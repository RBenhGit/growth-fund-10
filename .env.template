# ====================================================================
# Advanced Data Source Configuration (2x2 Matrix)
# ====================================================================
# Configure SEPARATE data sources for:
#   - US stocks (SP500) vs Israeli stocks (TASE125)
#   - Financial data (fundamentals) vs Pricing data (market prices)
#
# This provides optimal flexibility for cost and data quality.

# ──────────────────────────────────────────────────────────────────
# US STOCKS (S&P 500)
# ──────────────────────────────────────────────────────────────────

# Financial data (income statements, balance sheets, cash flows)
# Options: twelvedata, alphavantage
# Leave blank for auto-selection (tries: twelvedata → alphavantage)
US_FINANCIAL_DATA_SOURCE=

# Pricing data (stock prices, market cap, historical prices)
# Options: yfinance, twelvedata, alphavantage
# Recommended: yfinance (free, unlimited, reliable)
US_PRICING_DATA_SOURCE=yfinance

# ──────────────────────────────────────────────────────────────────
# ISRAELI STOCKS (TA-125)
# ──────────────────────────────────────────────────────────────────

# Financial data
# Options: twelvedata
# Leave blank for auto-selection (tries: twelvedata)
TASE_FINANCIAL_DATA_SOURCE=

# Pricing data
# Options: yfinance, twelvedata
# Recommended: yfinance (free, works globally)
TASE_PRICING_DATA_SOURCE=yfinance

# ====================================================================
# Recommended Configurations
# ====================================================================

# OPTIMAL (Recommended):
#   US_FINANCIAL_DATA_SOURCE=twelvedata
#   US_PRICING_DATA_SOURCE=yfinance          # Free!
#   TASE_FINANCIAL_DATA_SOURCE=twelvedata
#   TASE_PRICING_DATA_SOURCE=yfinance        # Free!
#
# ALL TWELVEDATA:
#   US_FINANCIAL_DATA_SOURCE=twelvedata
#   US_PRICING_DATA_SOURCE=twelvedata
#   TASE_FINANCIAL_DATA_SOURCE=twelvedata
#   TASE_PRICING_DATA_SOURCE=twelvedata
#
# US ONLY (Alpha Vantage):
#   US_FINANCIAL_DATA_SOURCE=alphavantage
#   US_PRICING_DATA_SOURCE=yfinance          # Unlimited
#   TASE_FINANCIAL_DATA_SOURCE=twelvedata
#   TASE_PRICING_DATA_SOURCE=yfinance        # Unlimited

# ====================================================================
# ⚠️ IMPORTANT: TwelveData Dual-Source Warning
# ====================================================================
# If using TwelveData for BOTH financial AND pricing data, you'll
# make ~11 API calls per stock (vs ~3 if using yfinance for pricing).
#
# For 125 stocks (TASE125): ~1,375 credits = EXCEEDS Pro 610 limit!
# This will cause "OUT OF CREDITS" errors.
#
# RECOMMENDED SOLUTIONS:
# 1. Use yfinance for pricing (free, unlimited):
#      TASE_FINANCIAL_DATA_SOURCE=twelvedata
#      TASE_PRICING_DATA_SOURCE=yfinance  # ← This saves 1,000+ credits!
#
# 2. OR upgrade to Enterprise plan (1,500+ credits/min)
#
# 3. OR set rate limit overrides below if you have higher limits
#
# The system automatically optimizes when both sources are TwelveData
# (uses unified API calls to reduce duplicates), but yfinance is still
# the better choice for cost efficiency.

# ====================================================================
# Legacy Configuration (Backwards Compatibility)
# ====================================================================
# If you prefer simple configuration, set these instead.
# The system will use them for both US and TASE stocks.
# These override the 2x2 matrix above if set.

# FINANCIAL_DATA_SOURCE=twelvedata
# PRICING_DATA_SOURCE=yfinance

# Even older legacy - will be used for both financial and pricing:
# DATA_SOURCE=twelvedata

# ====================================================================
# API Keys
# ====================================================================

# Alpha Vantage - US stocks only
# Sign up: https://www.alphavantage.co/
# Free tier: 25 requests/day (very limited - testing only)
# Paid: $50-250/month
# Best for: Light usage of US stocks
ALPHAVANTAGE_API_KEY=

# Alpha Vantage rate limit tier: "free" (5 req/min) or "paid" (75 req/min)
# Default: "paid"
ALPHAVANTAGE_RATE_LIMIT=paid

# TwelveData - Universal (supports both TASE and US)
# Sign up: https://twelvedata.com/
# Free tier: 8 requests/min (NOT USABLE - takes 3-12 hours per fund build!)
# Pro 610: $29/month - 610 credits/min (RECOMMENDED - completes TASE125 in 2.5 min)
# Enterprise: $99+/month - 1500+ credits/min
# Best for: Primary data source for both markets
# IMPORTANT: Requires Pro 610 or higher for practical use!
TWELVEDATA_API_KEY=

# TwelveData Rate Limit Overrides (optional)
# Leave at 0 for auto-detection from API
# Only set if you need manual control or have a custom plan
# Example: If you have Enterprise plan with 2000 credits/min:
#   TWELVEDATA_CREDITS_PER_MINUTE=2000
#   TWELVEDATA_MAX_STOCKS_PER_MINUTE=15  # Conservative estimate
TWELVEDATA_CREDITS_PER_MINUTE=0
TWELVEDATA_MAX_STOCKS_PER_MINUTE=0

# ====================================================================
# Other Settings
# ====================================================================

OUTPUT_DIRECTORY=./Fund_Docs
USE_CACHE=true
DEBUG_MODE=false

# Fund parameters (auto-calculated if blank)
FUND_QUARTER=
FUND_YEAR=

# ====================================================================
# Testing Your Configuration
# ====================================================================
# After configuring, test your setup:
#   python tests/test_all_sources.py
#
# Then build a fund:
#   python build_fund.py --index SP500
#   python build_fund.py --index TASE125

# ====================================================================
# Data Source Comparison
# ====================================================================
#
# | Source         | TASE | US  | Cost         | Rate Limit    | Best For           |
# |----------------|------|-----|--------------|---------------|--------------------|
# | TwelveData     | ✓    | ✓   | $29/mo (Pro) | 610/min (Pro) | Primary (all data) |
# | Alpha Vantage  | ✗    | ✓   | Free tier    | 25/day        | Very light usage   |
# | yfinance       | ✓    | ✓   | FREE         | Unlimited     | Pricing data       |
#
# Note: yfinance is perfect for pricing but NOT for financial statements
# IMPORTANT: TwelveData Basic plan (free) is NOT USABLE - requires Pro 610 minimum
